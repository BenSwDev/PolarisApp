<!DOCTYPE html>
<html lang="en" dir="ltr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <title>POLARIS-PM</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="in-progress.css">
</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar" id="navMenu">
    <div class="container">
        <a href="#" class="logo">POLARIS* app</a>
        <div class="nav-links">
            <a href="#" id="homeLink">HOME</a>
            <a href="#" id="projectsLink">My Projects</a>
        </div>
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="themeCheckbox">
                <input type="checkbox" id="themeCheckbox" />
                <span class="slider"></span>
            </label>
        </div>
        <div class="auth-buttons">
            <button id="loginBtn" class="btn">Login</button>
            <button id="logoutBtn" class="btn hidden">Logout</button>
        </div>
    </div>
</nav>

<!-- Home Page Section for Logged Out Users -->

<div class="container">
    <h1 class="text-center">POLARIS</h1>

    <!-- Home Page Section for Logged Out Users -->
    <section id="homePageSection" class="content-section hidden">
            <h1>Home page will be shown here</h1>
    </section>

    <!-- Main Section Starts -->
    <section id="mainSection" class="main-section content-section">
        <div class="greeting">
            <h2 id="greetingText"></h2>
            <p id="currentTime"></p>
        </div>
        <div class="in-progress-missions">
            <h3>In Progress Missions</h3>
            <div id="inProgressMissionsContainer">
                <!-- Missions will be dynamically inserted here -->
            </div>
        </div>
    </section>
    <!-- Main Section End -->

    <!-- Projects Section Starts -->
    <section class="project-section content-section hidden" id="projects">
        <button id="addProjectBtn" class="btn add-btn">Add New Project</button>

        <!-- Projects Grid for Desktop and Tablet -->
        <div id="projectsContainer" class="projects-grid"></div>

        <!-- Projects List for Mobile -->
        <ul id="projectsList" class="projects-list hidden"></ul>

        <!-- Project Content Area -->
        <div id="projectContentArea" class="project-content-area hidden">
            <span class="close" id="closeProjectContentArea">&times;</span>
            <div class="project-title-in-content-area">
                <h2 id="projectContentTitle"></h2>
                <button id="addMissionBtn" class="btn add-btn">Add Mission</button>
            </div>

            <!-- Missions Section -->
            <div id="missionsSection">
                <!-- Missions Container -->
                <div id="missionsContainer">
                    <!-- Missions will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Add/Edit Project Modal -->
        <div id="projectModal" class="modal hidden">
            <div class="modal-content">
                <span class="close" id="closeProjectModal">&times;</span>
                <h2 id="projectModalTitle">Add New Project</h2>
                <form id="projectForm">
                    <label for="projectName">Project Name:</label>
                    <input type="text" id="projectName" required>

                    <label for="projectDescription">Description:</label>
                    <textarea id="projectDescription" required></textarea>

                    <button type="submit" class="btn add-btn">Save Project</button>
                </form>
            </div>
        </div>

        <!-- Description Modal -->
        <div id="descriptionModal" class="modal hidden">
            <div class="modal-content">
                <span class="close" id="closeDescriptionModal">&times;</span>
                <h2 id="descTitle"></h2>
                <p id="descContent"></p>
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div id="confirmationModal" class="modal hidden">
            <div class="modal-content">
                <span class="close" id="closeConfirmationModal">&times;</span>
                <h2>Confirm Action</h2>
                <p id="confirmationMessage"></p>
                <div class="confirmation-buttons">
                    <button id="confirmYesBtn" class="btn done-btn">Yes</button>
                    <button id="confirmNoBtn" class="btn delete-btn">No</button>
                </div>
            </div>
        </div>

        <!-- Add/Edit Mission Modal -->
        <div id="missionModal" class="modal hidden">
            <div class="modal-content">
                <span class="close" id="closeMissionModal">&times;</span>
                <h2 id="missionModalTitle">Add New Mission</h2>
                <form id="missionForm">
                    <label for="missionName">Mission Name:</label>
                    <input type="text" id="missionName" required>

                    <label for="missionDescription">Description:</label>
                    <textarea id="missionDescription" required></textarea>

                    <label for="missionType">Mission Type:</label>
                    <select id="missionType" required>
                        <option value="single">Single Mission</option>
                        <option value="withSubmissions">Mission with Sub-Missions</option>
                    </select>

                    <!-- Sub-Missions Section -->
                    <div id="subMissionsSection" class="hidden">
                        <h3>Sub-Missions (Up to 10)</h3>
                        <div id="subMissionsContainer"></div>
                        <button type="button" id="addSubMissionBtn" class="btn add-btn">Add Sub-Mission</button>
                    </div>

                    <button type="submit" class="btn add-btn">Save Mission</button>
                </form>
            </div>
        </div>

        <!-- Edit Sub-Mission Modal -->
        <div id="editSubMissionModal" class="modal hidden">
            <div class="modal-content">
                <span class="close" id="closeEditSubMissionModal">&times;</span>
                <h2>Edit Sub-Mission</h2>
                <form id="editSubMissionForm">
                    <label for="editSubMissionName">Sub-Mission Name:</label>
                    <input type="text" id="editSubMissionName" required>

                    <label for="editSubMissionDescription">Description:</label>
                    <textarea id="editSubMissionDescription" required></textarea>

                    <button type="submit" class="btn add-btn">Save Changes</button>
                </form>
            </div>
        </div>

        <!-- Notification Container -->
        <div id="notificationContainer"></div>
    </section>
    <!-- Projects Section Ends -->

</div>

<!-- Footer -->
<footer class="footer">
    <p>&copy; 2024 POLARIS* Project Management App. All rights reserved.</p>
</footer>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js" defer></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js" defer></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js" defer></script>

<!-- Include shared.js before other scripts -->
<script src="shared.js" defer></script>
<!-- Existing scripts -->
<script src="projects.js" defer></script>
<script src="in-progress.js" defer></script>

</body>
</html>
